/**
 * @file main.c
 * @author Embedded Laboratory
 * @date June 30, 2016
 * @brief Main file of the Project.
 *
 * \mainpage Description
 * This project demonstrates how to use Graphical LCD Library.
 */

#include "config.h"
#include "glcd_128x64.h"

const u8_t logo[1024] = 
{
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0, 192, 224, 112, 176, 176, 176, 176, 176, 176, 176, 176,
  176, 176, 176, 176, 176, 176, 176, 176, 176, 176, 176, 176, 176, 176, 176, 176,
  176, 176, 176, 176, 176, 176, 176, 176, 176, 176, 176, 176, 176, 176, 176, 176,
  176, 176, 176, 176, 176, 176, 176, 176, 176,  96, 224, 128,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0, 255, 255,   0, 255, 255, 255,   3,  35,  49,  49,  49,
  49,  49,  49,  49,  51,   3, 199, 255, 127,  31,  31,  15,   7,   7,   3,   3,
  3,   1,   1,   1,   1,   1,   1,   1,   1,   1,   3,   3,   3,   7,   7,  15,
  15,  31, 127, 255, 255, 255, 255, 255, 255,   0, 255, 255,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0, 255, 255,   0, 255, 255, 255,   7,   6,   6,  14,  30,
  30,  30,  30,  30, 254, 255, 255,   1,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0, 252, 255, 255, 255, 254,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   7, 255, 255, 255, 255,   0, 255, 255,   0,   0,   0,   0, 
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0, 255, 255,   0, 255, 255, 255,  17,  51,   3,   3,  15,
  7,   3,   3,  17, 255, 255, 255,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0, 129, 129, 129, 129, 128, 128, 128, 128, 128, 128, 128, 128,
  128, 128, 128, 128, 128, 255, 255, 255, 255,   0, 255, 255,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0, 255, 255,   0, 255, 255, 255,  98, 127, 111,  99,  99,
  99,  99,  99,  99, 255, 255, 255,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0, 255, 255, 255, 255, 255, 255,   3,   3,   3,   3,   3,   3,   3,
  3,   3,   3,   3,   3, 255, 255, 255, 255,   0, 255, 255,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0, 255, 255,   0, 255, 255, 255,   8, 140, 140, 140, 140,
  140, 140, 140, 140, 141, 159, 255, 240, 192,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   7,  31,  63,  31,  31,   7,   0,   0,   0,   0,   0,   0,   0,
  0,   0, 128, 192, 248, 255, 255, 255, 255,   0, 255, 255,   0,   0,   0,   0, 
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0, 127, 255, 128, 127, 127, 127, 112, 113, 113, 113, 113,
  113, 113, 113, 113, 113, 113, 113, 113, 115, 119, 126, 124, 124, 120, 120, 112,
  112, 112, 112, 112, 112, 112, 112, 112, 112, 112, 112, 112, 112, 120, 120, 124,
  126, 127, 127, 127, 127, 127, 127, 127,  63, 192, 255, 127,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
  0,   0,   0,   0,   0,   0,   1,   1,   3,   3,   3,   3,   3,   3,   3,   3,
  3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,
  3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,
  3,   3,   3,   3,   3,   3,   3,   3,   3,   1,   0,   0,   0,   0,   0,   0
};  /**< mikroC Logo Code.*/

/**
 * Main Function
 */
void main()
{
  u8_t glcd_state = 0;
  u32_t timestamp = 0u;
  __delay_ms(10);
  __delay_ms(10);
  Timer0_Init ();
  enable_global_int();
  __delay_ms(10);
  Glcd_Init();
  timestamp = millis();
  Glcd_Fill(BLANK);
  Glcd_Write_Text ((char*)"Graphical LCD",0,2,1);
  Glcd_Write_Text ((char*)"Library Demo",0,4,1);
  Glcd_Write_Text ((char*)"Embedded Lab!",0,6,1);
  timestamp = millis();
  while(1)
  {
    if( millis() - timestamp > 2000ul )
    {
      switch (glcd_state)
      {
        case 0:
          glcd_state++;
          Glcd_Fill(BLANK);
          Glcd_Image(logo);
          break;
        case 1:
          glcd_state++;
          Glcd_Fill(BLANK);
          Glcd_Write_Text ((char*)"Rectangle Demo",0,0,1);
          Glcd_Rectangle (10, 20, 120, 60, 1);
          break;
        case 2:
          glcd_state++;
          Glcd_Rectangle (  0, 10, 127, 63, 1);
          //Glcd_Rectangle ( 10, 20, 110, 50, 1);
          Glcd_Rectangle ( 20, 30, 100, 50, 1);
          break;
        case 3:
          glcd_state++;
          Glcd_Fill(BLANK);
          Glcd_Write_Text ((char*)"Horizontal Demo",0,0,1);
          Glcd_H_Line(10, 127,10, 1);
          Glcd_H_Line(10, 127,30, 1);
          Glcd_H_Line(30, 100,50, 1);
          Glcd_H_Line(50, 100,60, 1);
          break;
        case 4:
          glcd_state++;
          Glcd_Fill(BLANK);
          Glcd_Write_Text ((char*)"Vertical Demo",0,0,1);
          Glcd_V_Line(10, 63, 0, 1);
          Glcd_V_Line(10, 63, 10, 1);
          Glcd_V_Line(30, 50, 40, 1);
          Glcd_V_Line(50, 63, 60, 1);
          Glcd_V_Line(20, 63, 80, 1);
          Glcd_V_Line(20, 50, 100, 1);
          break;
        case 5:
          glcd_state++;
          Glcd_Fill(BLANK);
          Glcd_Write_Text ((char*)"Line Demo",0,0,1);
          Glcd_Line(0 , 10, 0,    63, 1);
          Glcd_Line(0 , 10, 10,   63, 1);
          Glcd_Line(0 , 10, 20,   63, 1);
          Glcd_Line(0 , 10, 30,   63, 1);
          Glcd_Line(0 , 10, 40,   63, 1);
          Glcd_Line(0 , 10, 50,   63, 1);
          Glcd_Line(0 , 10, 60,   63, 1);
          Glcd_Line(0 , 10, 70,   63, 1);
          Glcd_Line(0 , 10, 80,   63, 1);
          Glcd_Line(0 , 10, 90,   63, 1);
          Glcd_Line(0 , 10, 100,  63, 1);
          Glcd_Line(0 , 10, 110,  63, 1);
          Glcd_Line(0 , 10, 127,  63, 1);
          Glcd_Line(0 , 10, 127,  50, 1);
          Glcd_Line(0 , 10, 127,  40, 1);
          Glcd_Line(0 , 10, 127,  30, 1);
          Glcd_Line(0 , 10, 127,  20, 1);
          Glcd_Line(0 , 10, 127,  10, 1);
          break;
        case 6:
          glcd_state++;
          Glcd_Fill(BLANK);
          Glcd_Write_Text ((char*)"Circle Demo",0,0,1);
          Glcd_Circle (31,31,20,1);
          Glcd_Circle (64,32,20,1);
          Glcd_Circle (91,31,20,1);          
          break;
        case 7:
          glcd_state++;
          Glcd_Fill (BLANK);
          Glcd_Circle (64,32,5,1);
          Glcd_Circle (64,32,10,1);
          Glcd_Circle (64,32,15,1);
          Glcd_Circle (64,32,20,1);
          Glcd_Circle (64,32,25,1);
          Glcd_Circle (64,32,30,1);
          Glcd_Circle (64,32,35,1);
          Glcd_Circle (64,32,40,1);
          Glcd_Circle (64,32,45,1);
          Glcd_Circle (64,32,50,1);
          Glcd_Circle (64,32,55,1);
          Glcd_Circle (64,32,60,1);
          break;
        case 8:
          glcd_state = 0;
          Glcd_Fill (BLANK);
          Glcd_Write_Text ((char*)"Fonts Testing",0,0,1);
          Glcd_Write_Text ((char*)"abcdefghijklmnop",0,2,1);
          Glcd_Write_Text ((char*)"qrstuvwxyz. ABCD",0,3,1);
          Glcd_Write_Text ((char*)"EFGHIJKLMNOPQRST",0,4,1);
          Glcd_Write_Text ((char*)"UVWXYZ. 12345678",0,5,1);
          Glcd_Write_Text ((char*)"90. ~!@#$%^&*()_",0,6,1);
          Glcd_Write_Text ((char*)"+<>?|:{}|;',./",0,7,1);
          break;
      }
      timestamp = millis ();
    }
  }
}

